<html>
  <head>
    <title>Lifegame</title>
    <style>
      body {
        text-align: center;
        background-image: url('./outer.png');
      }
      canvas {
        background-image: url('./inner.png');
        border: solid 1px #382108;
        cursor: crosshair;
      }
    </style>
  </head>
  <body>
    <canvas id="view">Canvas required.</canvas>
    <p>
      <input id="fast-button" type="button" value="Fast">
      <input id="normal-button" type="button" value="Normal">
      <input id="slow-button" type="button" value="Slow">
      <input id="stop-button" type="button" value="Stop">
      <input id="reset-button" type="button" value="Reset">
    </p>
    <script type="text/javascript" src="lifegame.js"></script>
    <script type="text/javascript">
      onload = function() {
        var lifegame = Lifegame.run(document.getElementById('view'));
        var changeFPS = function(fps) {
          lifegame.changeFPS(fps);
          lifegame.resume();
        };
        document.getElementById('fast-button').onclick = function() {changeFPS(60)};
        document.getElementById('normal-button').onclick = function() {changeFPS(30)};
        document.getElementById('slow-button').onclick = function() {changeFPS(10)};
        document.getElementById('stop-button').onclick = function() {lifegame.stop()};
        document.getElementById('reset-button').onclick = function() {lifegame.reset()};
        var zoomByMouseEvent = function(e) {
          var targetRect = e.target.getBoundingClientRect();
          lifegame.zoom(e.x - targetRect.left - e.target.clientLeft, e.y - targetRect.top - e.target.clientTop, 4);
        };
        var mouseDown = false;
        document.getElementById('view').onmousedown = function(e) {
          zoomByMouseEvent(e);
          mouseDown = true;
        }
        document.getElementById('view').onmousemove = function(e) {
          if (mouseDown) zoomByMouseEvent(e);
        };
        document.getElementById('view').onclick = function(e) {
          mouseDown = false;
          lifegame.resetZoom();
        };
      };
    </script>
  <body>
</html>
